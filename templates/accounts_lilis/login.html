{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dulcería Lilis - Mi Cuenta</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body {
    background: linear-gradient(rgba(178,34,34,0.85), rgba(178,34,34,0.85)), url("{% static 'images/hero.jpg' %}") center/cover no-repeat fixed;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

.auth-wrapper {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding-top: 120px;
}

.auth-card {
    background: white;
    border-radius: 20px;
    width: 90%;
    max-width: 550px;
    padding: 2.5rem;
    border: 2px solid #ffeaea;
    box-shadow: 0 8px 25px rgba(0,0,0,0.2);
    animation: fadeSlide .6s ease-out;
}

@keyframes fadeSlide {
    from { opacity: 0; transform: translateY(40px); }
    to { opacity: 1; transform: translateY(0); }
}

.form-control:focus {
    border-color: #b22222;
    box-shadow: 0 0 0 .2rem rgba(178,34,34,0.25);
}

.btn-primary {
    background-color: #b22222;
    border-color: #b22222;
}
.btn-primary:hover {
    background-color: #981b1b;
}

.text-error {
    color: #b22222;
    font-size: .85rem;
}
</style>
</head>

<body>

<nav class="navbar navbar-expand-lg navbar-dark fixed-top" style="background-color:#b22222;">
  <div class="container">
    <a class="navbar-brand fw-bold d-flex align-items-center" href="{% url 'landing' %}">
      <img src="{% static 'images/logo.png' %}" style="height:40px; margin-right:10px;">
      Dulcería Lilis
    </a>
  </div>
</nav>


<div class="auth-wrapper">
  <div class="auth-card">

      <div class="text-center mb-4">
          <h2 class="fw-bold" style="color:#b22222;">MI CUENTA</h2>
          <p class="text-muted">Inicia sesión o administra tu cuenta</p>
      </div>

      {% if messages %}
          {% for message in messages %}
              <div class="alert alert-danger">{{ message }}</div>
          {% endfor %}
      {% endif %}

      <form method="post">
          {% csrf_token %}

          <label>Usuario</label>
          <input type="text" name="username" class="form-control" required>

          {% if form.username.errors %}
              <p class="text-error">{{ form.username.errors.0 }}</p>
          {% endif %}
          <br>

          <label>Contraseña</label>
          <input type="password" name="password" class="form-control" required>

          {% if form.password.errors %}
              <p class="text-error">{{ form.password.errors.0 }}</p>
          {% endif %}
          <br>

          <button type="submit" class="btn btn-primary w-100">INICIAR SESIÓN</button>
      </form>

      <div class="text-center mt-3">
          <a href="{% url 'accounts_lilis:password_reset' %}" class="text-decoration-none">¿Olvidaste tu contraseña?</a>
      </div>

      <div class="text-center mt-3">
          ¿No tienes cuenta?
          <a href="{% url 'accounts_lilis:register' %}" class="fw-bold text-decoration-none" style="color:#b22222;">
              Regístrate aquí
          </a>
      </div>

  </div>
</div>

</body>
</html>
